"use strict";(self["webpackChunkhuupa_ft"]=self["webpackChunkhuupa_ft"]||[]).push([[659],{9202:function(s,t,a){a.r(t),a.d(t,{default:function(){return m}});var e=function(){var s=this,t=s._self._c;return t("div",[t("Navigator"),t("div",{staticClass:"LogReg"},[t("p",{staticClass:"titulo-ht"},[s._v("MI CUENTA")]),t("div",{staticClass:"log-reg-cont"},[t("div",{staticClass:"login"},[t("div",{staticClass:"login-cont"},[t("p",{staticClass:"titulo-lr"},[s._v("ACCEDER")]),t("form",{on:{submit:function(t){return t.preventDefault(),s.login(s.emailL,s.password)}}},[t("div",{staticClass:"grid-flex"},[t("div",{staticClass:"input-lr-c"},[t("label",{attrs:{for:""}},[s._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.emailL,expression:"emailL"}],staticClass:"input-txt-lr",attrs:{type:"text",name:"email",id:"email"},domProps:{value:s.emailL},on:{input:function(t){t.target.composing||(s.emailL=t.target.value)}}})]),t("div",{staticClass:"input-lr-c last"},[t("label",{attrs:{for:""}},[s._v("Contraseña")]),"checkbox"===s.type3?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input-txt-lr",attrs:{name:"contrasena",id:"contrasena",type:"checkbox"},domProps:{checked:Array.isArray(s.password)?s._i(s.password,null)>-1:s.password},on:{change:function(t){var a=s.password,e=t.target,i=!!e.checked;if(Array.isArray(a)){var r=null,o=s._i(a,r);e.checked?o<0&&(s.password=a.concat([r])):o>-1&&(s.password=a.slice(0,o).concat(a.slice(o+1)))}else s.password=i}}}):"radio"===s.type3?t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input-txt-lr",attrs:{name:"contrasena",id:"contrasena",type:"radio"},domProps:{checked:s._q(s.password,null)},on:{change:function(t){s.password=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input-txt-lr",attrs:{name:"contrasena",id:"contrasena",type:s.type3},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}}),t("p",{staticClass:"pointer showpass",on:{click:function(t){"password"==s.type3?s.type3="text":s.type3="password"}}},[s._v(" Mostrar contraseña ")])])]),t("input",{staticClass:"btn-lr",attrs:{type:"submit",value:"INICIAR SESIÓN"}}),""!=s.status2?t("div",{staticClass:"status_messages"},["success"==s.status2?t("div",{staticClass:"msg msg_success"},[t("p",[s._v(s._s(s.message2))])]):s._e(),"error"==s.status2?t("div",{staticClass:"msg msg_error"},[t("p",[s._v(s._s(s.message2))])]):s._e()]):s._e()])])]),t("div",{staticClass:"registro"},[t("div",{staticClass:"registro-cont"},[t("p",{staticClass:"titulo-lr"},[s._v("REGISTRARSE")]),t("form",{on:{submit:function(t){return t.preventDefault(),s.submit(s.name,s.lastname,s.email,s.pass,s.passc)}}},[t("div",{staticClass:"grid-inputs m-btm"},[t("div",{staticClass:"input-lr-c"},[t("label",{attrs:{for:""}},[s._v("Nombre(s)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"input-txt-lr",attrs:{type:"text",name:"name",id:"name"},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}})]),t("div",{staticClass:"input-lr-c"},[t("label",{attrs:{for:""}},[s._v("Apellido(s)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.lastname,expression:"lastname"}],staticClass:"input-txt-lr",attrs:{type:"text",name:"lastname",id:"lastname"},domProps:{value:s.lastname},on:{input:function(t){t.target.composing||(s.lastname=t.target.value)}}})]),t("div",{staticClass:"input-lr-c"},[t("label",{attrs:{for:""}},[s._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input-txt-lr",attrs:{type:"text",name:"email",id:"email"},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})]),t("div",{staticClass:"input-lr-c last"},[t("div",{staticClass:"contra-cont"},[t("label",{attrs:{for:""}},[s._v("Contraseña")]),"checkbox"===s.type1?t("input",{directives:[{name:"model",rawName:"v-model",value:s.pass,expression:"pass"}],staticClass:"input-txt-lr",attrs:{name:"pass",id:"pass",type:"checkbox"},domProps:{checked:Array.isArray(s.pass)?s._i(s.pass,null)>-1:s.pass},on:{change:function(t){var a=s.pass,e=t.target,i=!!e.checked;if(Array.isArray(a)){var r=null,o=s._i(a,r);e.checked?o<0&&(s.pass=a.concat([r])):o>-1&&(s.pass=a.slice(0,o).concat(a.slice(o+1)))}else s.pass=i}}}):"radio"===s.type1?t("input",{directives:[{name:"model",rawName:"v-model",value:s.pass,expression:"pass"}],staticClass:"input-txt-lr",attrs:{name:"pass",id:"pass",type:"radio"},domProps:{checked:s._q(s.pass,null)},on:{change:function(t){s.pass=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.pass,expression:"pass"}],staticClass:"input-txt-lr",attrs:{name:"pass",id:"pass",type:s.type1},domProps:{value:s.pass},on:{input:function(t){t.target.composing||(s.pass=t.target.value)}}}),t("p",{staticClass:"pointer showpass",on:{click:function(t){"password"==s.type1?s.type1="text":s.type1="password"}}},[s._v(" Mostrar contraseña ")]),s.pass.length>0?t("label",{attrs:{for:""}},[s._v("Confirmar Contraseña")]):s._e(),"checkbox"===s.type2&&s.pass.length>0?t("input",{directives:[{name:"model",rawName:"v-model",value:s.passc,expression:"passc"}],staticClass:"input-txt-lr",attrs:{name:"passc",id:"passc",type:"checkbox"},domProps:{checked:Array.isArray(s.passc)?s._i(s.passc,null)>-1:s.passc},on:{change:function(t){var a=s.passc,e=t.target,i=!!e.checked;if(Array.isArray(a)){var r=null,o=s._i(a,r);e.checked?o<0&&(s.passc=a.concat([r])):o>-1&&(s.passc=a.slice(0,o).concat(a.slice(o+1)))}else s.passc=i}}}):"radio"===s.type2&&s.pass.length>0?t("input",{directives:[{name:"model",rawName:"v-model",value:s.passc,expression:"passc"}],staticClass:"input-txt-lr",attrs:{name:"passc",id:"passc",type:"radio"},domProps:{checked:s._q(s.passc,null)},on:{change:function(t){s.passc=null}}}):s.pass.length>0?t("input",{directives:[{name:"model",rawName:"v-model",value:s.passc,expression:"passc"}],staticClass:"input-txt-lr",attrs:{name:"passc",id:"passc",type:s.type2},domProps:{value:s.passc},on:{input:function(t){t.target.composing||(s.passc=t.target.value)}}}):s._e(),s.pass.length>0?t("p",{staticClass:"pointer showpass",on:{click:function(t){"password"==s.type2?s.type2="text":s.type2="password"}}},[s._v(" Mostrar contraseña ")]):s._e()])])]),t("div",{staticClass:"acepts-adv"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.terms,expression:"terms"}],attrs:{type:"checkbox",id:"checkbox",name:""},domProps:{checked:Array.isArray(s.terms)?s._i(s.terms,null)>-1:s.terms},on:{change:function(t){var a=s.terms,e=t.target,i=!!e.checked;if(Array.isArray(a)){var r=null,o=s._i(a,r);e.checked?o<0&&(s.terms=a.concat([r])):o>-1&&(s.terms=a.slice(0,o).concat(a.slice(o+1)))}else s.terms=i}}}),s._m(0)]),t("input",{staticClass:"btn-lr",attrs:{type:"submit",value:"REGISTRAR"}}),""!=s.status?t("div",{staticClass:"status_messages"},["success"==s.status?t("div",{staticClass:"msg msg_success"},[t("p",[s._v(s._s(s.message))])]):s._e(),"error"==s.status?t("div",{staticClass:"msg msg_error"},[t("p",[s._v(s._s(s.message))])]):s._e()]):s._e()])])])])]),t("Footer")],1)},i=[function(){var s=this,t=s._self._c;return t("label",{attrs:{for:"checkbox"}},[s._v("He leído y estoy de acuerdo con los "),t("a",{attrs:{href:""}},[s._v("Terminos de Servicio")]),s._v(" y "),t("a",{attrs:{href:""}},[s._v("Política de Privacidad")]),s._v(".")])}],r=(a(7658),a(7270)),o=a(7534),n=a(9753),c=a(629),l={components:{Navigator:o.Z,Footer:n.Z},data(){return{terms:!1,status:"",message:"",status2:"",message2:"",name:"",lastname:"",role:"cliente",phone:"",email:"",pass:"",passc:"",emailL:"",password:"",type1:"password",type2:"password",type3:"password"}},metaInfo(){return{title:"Iniciar sesión",titleTemplate:"%s | Agriga de México",htmlAttrs:{lang:"es"},meta:[{charset:"utf-8"},{name:"description",content:"Regístrate o ingresa en Agriga de México y obtén beneficios exclusivos."},{name:"viewport",content:"width=device-width, initial-scale=1"}]}},async created(){await this.obtenerCarritos()},computed:{carrito(){return this.$store.getters["carrito/getcar"]},update(){return this.$store.getters["carrito/getupd"]}},methods:{...(0,c.nv)("usuarios",["setAddedUsr"]),...(0,c.nv)("carrito",["getCart"]),...(0,c.nv)("carrito",["getCartCopy"]),wait:function(){setTimeout((()=>this.$router.go()),200)},async obtenerCarritos(){await this.getCart(),await this.getCartCopy()},delStatus:function(){setTimeout((()=>this.delMsgs()),1500)},delMsgs:function(){this.status="",this.message=""},submit:async function(s,t,a,e,i){if(this.status="",this.message="",!0===this.terms)if(e===i){let i={name:s,lastname:t,role:"cliente",email:a,password:e},r=await this.$store.dispatch("usuarios/addItemUsr2",{option:"user-register",item:i});console.log(r.status),"error"==r.status?(this.status="error",this.message=r.message):(this.setAddedUsr(r.added),this.Add(),this.status="success",this.message="Se ha registrado el usuario. Ahora inicia sesión.")}else this.status="error",this.message="Las contraseñas no coinciden.";else this.status="error",this.message="Debes aceptar los Términos de Servicio y Política de Privacidad."},async login(s,t){this.status="",this.message="";let a=await this.$store.dispatch("admin/login",{email:s,password:t});if("success"==a.status){let s=await this.$store.dispatch("admin/getData");if("success"==s.status)if("legrafica"==s.result.role||"admin"==s.result.role){let t=r.Z.isAdmin(s.result);1==t.admin?this.$router.push("/auth").catch((s=>{})):this.wait()}else this.$router.push("/").catch((s=>{}));else this.status="error",this.message=s.message,this.delStatus(),this.wait()}else this.status="error",this.message=a.message,this.delStatus()},toCheckout:async function(){await this.obtenerCarritos();let s={carrito:this.carrito},t=await this.$store.dispatch("carrito/validateCrt",{option:"valid_cart",item:s});if("error"!=t.status)return this.$router.push("/check-out").catch((s=>{}));this.status="error",this.message=t.message},Add:function(){this.status="",this.message="",this.name="",this.lastname="",this.role="cliente",this.phone="",this.email="",this.pass="",this.passc="",this.terms=!1,this.setAddedUsr("")}}},p=l,u=a(1001),d=(0,u.Z)(p,e,i,!1,null,"62ebd846",null),m=d.exports}}]);
//# sourceMappingURL=659.76d45fd6.js.map