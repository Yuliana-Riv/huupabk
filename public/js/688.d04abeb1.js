"use strict";(self["webpackChunkhuupa_ft"]=self["webpackChunkhuupa_ft"]||[]).push([[688],{2134:function(t,s,e){e.r(s),e.d(s,{default:function(){return g}});var a=function(){var t=this,s=t._self._c;return s("div",[s("Navigator"),t._m(0),s("div",{staticClass:"B2"},[s("div",{staticClass:"B2B1"},[s("div",{staticClass:"B2B1_F1"},[s("img",{attrs:{src:""==t.imgsel?t.srcImg(t.data.imagenes[0].image):t.srcImg(t.imgsel)}})]),s("div",{staticClass:"B2B1_F2"},t._l(t.data.imagenes,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"B2B1_F2B1"},[s("img",{attrs:{src:t.srcImg(e.image)},on:{click:function(s){t.imgsel=e.image}}})])])})),0)]),s("div",{staticClass:"B2B2"},[s("p",{staticClass:"B2B2_T1"},[t._v(t._s(t.data.name))]),s("p",{staticClass:"B2B2_T2"},[t._v("$"+t._s(t.data.price)+" MXN")]),s("p",{staticClass:"B2B2_T3"},[t._v(t._s(t.data.descrp))]),t._m(1),t._l(t.data.atributosFilt,(function(e,a){return s("div",{key:a},[s("p",{staticClass:"B2B2_T5"},[t._v(t._s(e.atributo))]),s("div",{staticClass:"B2B2_F6"},t._l(e.values,(function(i,o){return s("div",{key:o,staticClass:"B2B2_F6F",class:{B2B2_F6FRed:i==t.Categorias[a].sel},on:{click:function(s){e.sel=i,t.Categorias[a].sel=i,t.Gramos=i,t.Molido=e.sel,t.findProd(e.atributo,i,t.data)}}},[s("p",[t._v(t._s(i))])])})),0)])})),s("p",{staticClass:"B2B2_T5"},[t._v("Opción de compra")]),s("div",{staticClass:"B2B2_F7"},[s("div",{staticClass:"B2B2_FF",on:{click:function(s){t.selectM="Susnt",t.openWeeks=!1}}},[s("div",{staticClass:"B2B2_F",class:{B2B2_FRed:"Susnt"==t.selectM}})]),s("p",[t._v("Comprar una vez")])]),s("div",{staticClass:"B2B2_F8"},[s("div",{staticClass:"B2B2_F8F"},[s("div",{staticClass:"B2B2_FF",on:{click:function(s){t.selectM="Sus"}}},[s("div",{staticClass:"B2B2_F",class:{B2B2_FRed:"Sus"==t.selectM}})]),s("p",{staticClass:"B2B2_F8B2"},[t._v("suscripción")]),s("img",{staticClass:"B2B2_F8B3"})]),"Sus"==t.selectM?s("div",{staticClass:"B2B2_F8F2"},[s("div",{staticClass:"BLine"}),s("div",{staticClass:"B2B2_F8F3",on:{click:function(s){t.openWeeks=!t.openWeeks}}},[s("div",{staticClass:"B2B2_F8C"},[s("p",{staticClass:"B2B2_F8T1"},[t._v("Frecuencia")]),s("div",{staticClass:"B2B2_F8T2"},[s("p",[t._v(t._s(t.selectWeek))]),s("img",{attrs:{src:e(9020)}})])]),t.openWeeks?s("div",t._l(t.weeks,(function(e,a){return s("div",{key:a,staticClass:"B2B2_F8T",on:{click:function(s){t.selectWeek=e}}},[s("p",[t._v(t._s(e))])])})),0):t._e()]),s("p",{staticClass:"B2B2_F8F4"},[t._v(" Obtendrás 5% de descuento en cada orden recurrente ")])]):t._e()]),s("p",{staticClass:"B2B2_T5"},[t._v("Cantidad")]),s("div",{staticClass:"B2B2_F9"},[s("img",{staticClass:"showMV",attrs:{src:e(4686)},on:{click:function(s){t.selectNumb>1?t.selectNumb=t.selectNumb-1:t.selectNumb}}}),s("img",{staticClass:"showDK",attrs:{src:e(6033)},on:{click:function(s){t.selectNumb>1?t.selectNumb=t.selectNumb-1:t.selectNumb}}}),s("p",[t._v(t._s(t.selectNumb))]),s("img",{staticClass:"showMV",attrs:{src:e(7900)},on:{click:function(s){t.selectNumb=t.selectNumb+1}}}),s("img",{staticClass:"showDK",attrs:{src:e(2826)},on:{click:function(s){t.selectNumb=t.selectNumb+1}}})]),s("div",{staticClass:"B2B2_F10"},[s("div",{staticClass:"B2B2_F10B1",on:{click:function(s){return t.agregarItem(t.selectNumb)}}},[s("p",[t._v("AGREGAR")]),s("img",{attrs:{src:e(4405)}})]),s("div",{staticClass:"B2B2_F10B2",on:{mouseover:function(s){t.hover1=!0},mouseleave:function(s){t.hover1=!1},click:function(s){return t.agregarItem2(t.selectNumb)}}},[s("p",[t._v("PAGAR")])])])],2)]),t._m(2),s("Footer")],1)},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"B1"},[s("p",{staticClass:"B1T1"},[t._v("Tienda")]),s("p",{staticClass:"B1T2"},[t._v("Un café para cada momento")])])},function(){var t=this,s=t._self._c;return s("a",{attrs:{href:"#detallespedido"}},[s("p",{staticClass:"B2B2_T4"},[t._v("Más detalles")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"B3",attrs:{id:"detallespedido"}},[s("p",{staticClass:"B3T1"},[t._v("Detalles del producto:")]),s("div",{staticClass:"B3B"},[s("div",{staticClass:"B3B1"},[s("div",{staticClass:"B3B1_B1"},[s("p",{staticClass:"B3B1_B1T"},[t._v("Tostado")]),s("p",{staticClass:"showMV"},[t._v("Oscuro")]),s("p",{staticClass:"B3B1_B1T"},[t._v("Región")]),s("p",{staticClass:"showMV"},[t._v("Chiapas")]),s("p",{staticClass:"B3B1_B1T"},[t._v("Especie")]),s("p",{staticClass:"showMV"},[t._v("Robusta")]),s("p",{staticClass:"B3B1_B1T"},[t._v("Cafeína")]),s("p",{staticClass:"showMV"},[t._v("Muy alto")])]),s("div",{staticClass:"WLine"}),s("div",{staticClass:"showDK B3B1_B2"},[s("p",[t._v("Oscuro")]),s("p",[t._v("Chiapas")]),s("p",[t._v("Robusta")]),s("p",[t._v("Muy alto")])])]),s("div",{staticClass:"B3B2"},[s("p",[t._v(" Nuestra selección de café es de granos orgánicos de "),s("span",[t._v("Chiapas")]),t._v(", la tierra del café, de nuestro país un orgullo. ")]),s("p",[t._v(" Tostamos con leña de mezquite de "),s("span",[t._v("Sonora")]),t._v(" (Huupa®) por su alta calidad de poder calorífico, ya que ésta resalta el aroma, cuerpo y sabor del café. ")])])])])}],o=(e(7658),e(629)),r=e(7409),l=e(7534),c=e(9753);let n=e(3631);var u={name:"Producto",data(){return{imgsel:"",urlpath:n,selectM:"",cantidad:1,selectWeek:"1 semana",weeks:["4 semanas","1 semana","2 semanas","3 semanas"],openWeeks:!1,Gramos:"",Molido:"",Categorias:[],hover1:!1,editco:0,selectNumb:1,status:"",message:"",status2:"",message2:"",name:null===localStorage.getItem("sdel")?"":localStorage.getItem("sdel"),email:null===localStorage.getItem("sdel")?"":localStorage.getItem("sdel"),comment:"",valuation:0,hoverval:0,tosave:!1,closeU:null!==localStorage.getItem("sdne")||null!==localStorage.getItem("sdel"),messageError:"",titlego:"",imagesel:"",pageNum:1,pageSize:3,arraylength:0,logisav:null!==localStorage.getItem("tkn")}},components:{Navigator:l.Z,Footer:c.Z,Carousel:r.Carousel,Slide:r.Slide},metaInfo(){return{title:this.data.name,titleTemplate:"%s | Agriga de México",htmlAttrs:{lang:"es"},meta:[{charset:"utf-8"},{name:"description",content:this.data.descrp},{name:"viewport",content:"width=device-width, initial-scale=1"}]}},async created(){let t={option:"product/url",url:this.$route.params.url};await this.findByUrlPro(t);let s={option:"product/product_val",id:1},e=await this.getInfoByIdProVal(s);await this.setAddedProVal(e),await this.getIdentity()},computed:{identity(){return this.$store.getters["admin/getIdentity"]},data(){let t=this.$store.getters["product/data"];if(this.Categorias=[],this.titlego=t.name,t.product_atributo_valores&&this.orderCat(t.product_atributo_valores),t.atributosFilt&&0==this.Categorias.length)for(let s of t.product_atributo_valores){let t={cat:s.atributo,sel:s.valor};this.Categorias.push(t)}return console.log(t),t},addedCo(){let t=this.$store.getters["product_val/getAdded"];if(this.arraylength=t.length,"error"==t)return"error";{let s=t.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize);return s}},proId2(){let t=this.$store.getters["product_val/data"];if(0==this.editco)return"error";{let s=[];for(let e=0;e<t.length;e++)t[e].id==this.editco&&s.push(t[e]);return s}},totalPages(){let t=Math.ceil(this.arraylength/this.pageSize);return t<this.pageNum&&(this.pageNum=1),t},gp(){let t=this.$store.getters["global_params/data"],s=[];return Array.isArray(t)?(s=t,s):[]}},methods:{...(0,o.nv)("product",["findByUrlPro"]),...(0,o.nv)("product",["getInfoByIdPro"]),...(0,o.nv)("product_val",["setAddedProVal"]),...(0,o.nv)("product_val",["getInfoByIdProVal"]),...(0,o.nv)("product_val",["getAllInfoProVal"]),...(0,o.nv)("global_params",["getAllInfoGlp"]),orderCat:function(t){},getIdentity:async function(){let t=await this.$store.dispatch("admin/getData");return t},isfalse(){let t=document.getElementById("checkoptions");t.checked=!1},agregarItem:async function(t){let s={item:this.data,_ctk:localStorage.getItem("_ctk"),cantidad:t},e=await this.$store.dispatch("carrito/editItemCrt",{option:"add_item",item:s});console.log(e),"error"==e.status?(this.status="error",this.message=e.message,this.delStatus()):this.$router.push("/carrito").catch((t=>{}))},agregarItem2:async function(t){let s={item:this.data,_ctk:localStorage.getItem("_ctk"),cantidad:t},e=await this.$store.dispatch("carrito/editItemCrt",{option:"add_item",item:s});console.log(e),"error"==e.status?(this.status="error",this.message=e.message,this.delStatus()):this.$router.push("/check-out").catch((t=>{}))},delStatus:function(){setTimeout((()=>this.delMsgs()),2e3)},delMsgs:function(){this.status="",this.message="",this.status2="",this.message2="",this.messageError=""},findProd:async function(t,s,e){this.messageError="";let a=[];for(const c of e.atributosFilt)c.atributo!=t&&a.push({atributo:c.atributo,valor:c.sel});let i=[];for(const c of e.product_variantes)for(const e of c.producto.product_atributo_valores)if(e.atributo==t&&e.valor==s){i.push(c.producto);break}if(0==i.length){const e=t.toLowerCase();return this.messageError=`No hay mas variantes disponibles por el momento para ${e} ${s}.`,this.delStatus(),null}let o=[],r=i[0];if(i.length>1){for(const e of i){let t=0;for(const s of e.product_atributo_valores)for(const e of a)if(s.atributo==e.atributo&&s.valor==e.valor){t++;break}o.push(t)}let t=o[0],s=0;for(var l=1;l<i.length;l++)o[l]>t&&(t=o[l],s=l);r=i[s]}if(console.log("---------------encontrado----------"),r.id){let t={option:"product",id:r.id};await this.getInfoByIdPro(t);const s="/producto/"+this.data.url;this.$router.push(s).catch((t=>{}))}},sendValuation:async function(t,s,e,a,i){if(this.message2="",this.status2="",void 0==i||""==i||null==i)this.message2="Califíca el producto.",this.status2="error";else{let o={name:s,id_product:t,email:e,comment:a,valuation:i},r=await this.$store.dispatch("product_val/addItemProVal",{option:"product_val",item:o});if(console.log(r),"success"==r.status){this.status2="success",this.message2="Se agregó el comentario con éxito.";let t={option:"product/product_val",id:this.data.id};const s=await this.getInfoByIdProVal(t);await this.setAddedProVal(s),this.comment="",this.valuation=0,this.delStatus()}else this.status2="error",this.message2="Lo sentimos ha ocurrido un error al intentar enviar tu comentario."}},editValuation:async function(t,s,e){if(this.message2="",this.status2="",void 0==e||""==e||null==e)this.message2="Califíca el producto.",this.status2="error";else{let a={id:t,comment:s,valuation:e},i=await this.$store.dispatch("product_val/editItemProVal",{option:"product_val",item:a});if("success"==i.status){this.status2="success",this.message2="Se editó el comentario con éxito.";let t={option:"product/product_val",id:this.data.id};const s=await this.getInfoByIdProVal(t);await this.setAddedProVal(s),this.comment="",this.valuation=0,this.editco=0,this.delStatus()}else this.status2="error",this.message2="Lo sentimos ha ocurrido un error al intentar enviar tu comentario."}},regexImg(t){let s=t.split(".");return s[0]+".webp"},isWebp(t,s){let e=navigator.userAgent.toLowerCase();return e.indexOf("chrome")>-1||e.indexOf("firefox")>-1||e.indexOf("opera")>-1?t:e.indexOf("safari")>-1?s:void 0},srcImg:function(t){let s=`${n.url}/ayn_Rqv/WW9-AGv/get-product-image/${t}`;return s}}},d=u,p=e(1001),m=(0,p.Z)(d,a,i,!1,null,"69f7ac66",null),g=m.exports},4405:function(t,s,e){t.exports=e.p+"img/Car.9f22b59f.svg"},2826:function(t,s,e){t.exports=e.p+"img/PlusBlack.dffad20a.svg"},7900:function(t,s,e){t.exports=e.p+"img/PlusRed.cc932c72.svg"},6033:function(t,s,e){t.exports=e.p+"img/RestBlack.4ef4172f.svg"},4686:function(t,s,e){t.exports=e.p+"img/RestRed.c2490a49.svg"},9020:function(t,s,e){t.exports=e.p+"img/RowDown.726d729d.svg"}}]);
//# sourceMappingURL=688.d04abeb1.js.map